---
// src/pages/julkisivujen-maalaus.astro
import Layout from "../../layouts/Layout.astro";
import Contactform from "../../components/Contactform.astro";
---

<Layout>
  <!-- INTRO / HERO SECTION -->
  <section class="bg-gray-300 text-gray-900 font-montserrat px-4 py-20">
    <div class="max-w-7xl mx-auto text-center space-y-6">
      <h1 class="text-4xl md:text-5xl font-bebas tracking-tight">
        Julkisivujen maalaus
      </h1>
      <div class="max-w-3xl mx-auto space-y-4 text-base leading-relaxed">
        <p>
          Julkisivun maalaus suojaa rakennuksen ulkopintoja ja pidentää
          rakenteiden käyttöikää tehokkaasti. Hyvin hoidettu julkisivu ei ole
          vain tekninen suoja – se on myös koko kiinteistön käyntikortti.
        </p>
        <p>
          Kokenut tiimimme maalaa julkisivut tarkasti ja huolellisesti –
          kauniit, kestävät ja viimeistellyt pinnat ovat meille kunnia-asia.
          Käytämme ainoastaan laadukkaita ja testattuja tuotteita, jotka
          kestävät Suomen vaativat sääolosuhteet.
        </p>
        <p>
          Toteutamme julkisivumaalauksia vuosittain laajasti: yksityisten
          omakotitalojen maalaustöistä aina useiden rakennusten
          asunto-osakeyhtiöiden kokonaisurakoihin. Kokemuksemme ja resurssimme
          mahdollistavat sujuvan työnkulun kaiken kokoisissa projekteissa.
        </p>
      </div>

      <a
        href="#contact-scroll"
        class="inline-block bg-green-800 hover:bg-green-900 text-white font-bold text-lg py-4 px-8 rounded-full transition"
      >
        Pyydä tarjous maalaustyöstä
      </a>
    </div>
  </section>

  <!-- GALLERY SECTION: Julkisivujen Maalaus -->
  <section class="bg-gray-300 py-20 overflow-hidden font-montserrat">
    <div class="max-w-[2000px] mx-auto px-4">
      <h2
        class="text-center text-3xl md:text-5xl font-bebas tracking-wide uppercase mb-12 text-gray-900"
      >
        Julkisivujen Maalaus
      </h2>

      <!-- HORIZONTAL SCROLLABLE IMAGE ROW -->
      <div class="overflow-x-auto scroll-smooth">
        <div class="flex gap-6 whitespace-nowrap">
          <!-- Julkisivut -->
          <img
            src="/images/julk1.jpeg"
            alt="Julkisivumaalaus – kerrostalon punainen peltikatto kaupunginäkymällä"
            class="gallery-image w-[320px] h-[320px] object-cover rounded shadow-md flex-shrink-0 cursor-pointer"
          />
          <img
            src="/images/julk2.jpeg"
            alt="Julkisivumaalaus – valkoinen puutalo huoltomaalauksen jälkeen"
            class="gallery-image w-[320px] h-[320px] object-cover rounded shadow-md flex-shrink-0 cursor-pointer"
          />
          <img
            src="/images/julk3.jpeg"
            alt="Julkisivumaalaus – kaksikerroksinen puutalo vaaleilla sävyillä"
            class="gallery-image w-[320px] h-[320px] object-cover rounded shadow-md flex-shrink-0 cursor-pointer"
          />
          <img
            src="/images/julk4.jpeg"
            alt="Julkisivumaalaus – kerrostalon vaalea ulkoseinä viimeisteltynä"
            class="gallery-image w-[320px] h-[320px] object-cover rounded shadow-md flex-shrink-0 cursor-pointer"
          />
          <img
            src="/images/julk5.jpeg"
            alt="Julkisivumaalaus – kivitalon ulkoseinä ennen ja jälkeen maalauksen"
            class="gallery-image w-[320px] h-[320px] object-cover rounded shadow-md flex-shrink-0 cursor-pointer"
          />
          <img
            src="/images/julk6.jpeg"
            alt="Julkisivumaalaus – moderni valkoinen puutalo maalauksen jälkeen"
            class="gallery-image w-[320px] h-[320px] object-cover rounded shadow-md flex-shrink-0 cursor-pointer"
          />
          <img
            src="/images/julk7.jpeg"
            alt="Julkisivumaalaus – perinteinen hirsitalo maalattuna"
            class="gallery-image w-[320px] h-[320px] object-cover rounded shadow-md flex-shrink-0 cursor-pointer"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- FULLSCREEN MODAL -->
  <div
    id="modal"
    class="fixed inset-0 bg-black bg-opacity-90 z-50 hidden justify-center items-center"
  >
    <button
      id="closeModal"
      class="absolute top-4 right-4 text-white text-4xl font-bold hover:text-gray-300 transition"
      aria-label="Sulje">✕</button
    >

    <!-- Prev button (mobile only) -->
    <button
      id="prevImage"
      class="absolute left-4 top-1/2 -translate-y-1/2 text-white text-4xl font-bold px-2 hover:text-gray-300 transition md:hidden"
      aria-label="Edellinen kuva">‹</button
    >

    <!-- Next button (mobile only) -->
    <button
      id="nextImage"
      class="absolute right-4 top-1/2 -translate-y-1/2 text-white text-4xl font-bold px-2 hover:text-gray-300 transition md:hidden"
      aria-label="Seuraava kuva">›</button
    >

    <img
      id="modalImage"
      src=""
      alt="Näyttökuva"
      class="max-w-full max-h-full object-contain rounded-lg shadow-lg"
    />
  </div>

  <!-- MODAL SCRIPT -->
  <script type="module">
    const modal = document.getElementById("modal");
    const modalImage = document.getElementById("modalImage");
    const closeModal = document.getElementById("closeModal");
    const prevBtn = document.getElementById("prevImage");
    const nextBtn = document.getElementById("nextImage");

    const images = [...document.querySelectorAll(".gallery-image")];
    let currentIndex = 0;

    function isMobile() {
      return window.matchMedia("(max-width: 768px)").matches;
    }

    function openModal(index) {
      if (!isMobile()) return;
      currentIndex = index;
      modalImage.src = images[currentIndex].src;
      modal.classList.remove("hidden");
      modal.classList.add("flex");
    }

    closeModal.addEventListener("click", () => {
      modal.classList.add("hidden");
      modalImage.src = "";
    });

    prevBtn.addEventListener("click", () => {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      modalImage.src = images[currentIndex].src;
    });

    nextBtn.addEventListener("click", () => {
      currentIndex = (currentIndex + 1) % images.length;
      modalImage.src = images[currentIndex].src;
    });

    images.forEach((img, index) => {
      img.addEventListener("click", () => openModal(index));
    });
  </script>

  <!-- CONTACT FORM -->
  <Contactform />
</Layout>
